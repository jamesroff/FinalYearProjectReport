\usepackage{xparse}

\newcommand{\diff}[3][]{\IfNoValueTF{#1}
{ \frac{\mathrm{d}{#2}}{\mathrm{d}{#3}} }
{ \frac{\mathrm{d}^{#1}{#2}}{\mathrm{d} {#3}^{#1} }} }

\newcommand{\dash}[1]{#1{'}}
\newcommand{\ddash}[1]{#1{''}}

\newcommand{\pdiff}[3][]{\IfNoValueTF{#1}
{ \frac{\partial{#2}}{\partial{#3}} }
{ \frac{\partial^{#1} {#2}}{\partial {#3}^{#1}} } }

\newcommand{\fun}[3][]{\IfNoValueTF{#1}
{ \mathrm{#2}\mathopen{}\left(#3\right)\mathclose{} }
{ \mathrm{#2}^{#1}\mathopen{}\left(#3\right)\mathclose{} }}

\newcommand{\pdiffdiff}[3]{\frac{\partial^2{#1}}{\partial{#2}\partial{#3}}}

\renewcommand{\vec}[1]{\boldsymbol{#1}}

\newcommand{\Idx}[1]{\;\mathrm{d}#1}
\newcommand{\Real}{\mathbb{R}}
\newcommand{\Complex}{\mathbb{C}}
\newcommand{\Rational}{\mathbb{Q}}
\newcommand{\Integer}{\mathbb{Z}}
\newcommand{\Natural}{\mathbb{N}}
\newcommand{\Order}[1]{\mathcal{O}\left( #1 \right)}

\definecolor{James}{RGB}{0, 40, 114}
\definecolor{Red}{RGB}{255,0,0}
\definecolor{Green}{RGB}{0,255,0}
\definecolor{Blue}{RGB}{0,0,255}

\newcommand{\power}[1]{^{\;#1}}
%\newcommand{\power}[1]{{}^{#1}}

% table thickness
\newcolumntype{?}[1]{!{\vrule width #1}}